{"ast":null,"code":"var _jsxFileName = \"/home/kerem/thesis-fe-react/src/store/auth-context/AuthContext.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext({\n  token: \"\",\n  isAuthenticated: false,\n  username: \"\",\n  login: () => {},\n  logout: () => {}\n});\nexport function AuthContextProvider(props) {\n  _s();\n\n  const [authState, setAuthState] = useState({\n    token: \"\",\n    username: \"\",\n    isAuthenticated: false\n  });\n  useEffect(() => {\n    const storedToken = localStorage.getItem(\"token\");\n    const username = localStorage.getItem(\"username\");\n\n    if (storedToken && username) {\n      setAuthState({\n        token: storedToken,\n        isAuthenticated: true,\n        username\n      });\n    }\n  }, []);\n\n  function loginHandler(authToken, username) {\n    setAuthState({\n      token: authToken,\n      isAuthenticated: true,\n      username: username\n    });\n    localStorage.setItem(\"token\", authToken);\n    localStorage.setItem(\"username\", username);\n  }\n\n  function logoutHandler() {\n    setAuthState({\n      token: \"\",\n      isAuthenticated: false,\n      username: \"\"\n    });\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"username\");\n  }\n\n  const authContext = {\n    token: authState.token,\n    username: authState.username,\n    isAuthenticated: authState.isAuthenticated,\n    login: loginHandler,\n    logout: logoutHandler\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: authContext,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AuthContextProvider, \"g3/ubB13jGySofyj0xn4z7O183U=\");\n\n_c = AuthContextProvider;\nexport default AuthContext;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthContextProvider\");","map":{"version":3,"sources":["/home/kerem/thesis-fe-react/src/store/auth-context/AuthContext.js"],"names":["createContext","useEffect","useState","AuthContext","token","isAuthenticated","username","login","logout","AuthContextProvider","props","authState","setAuthState","storedToken","localStorage","getItem","loginHandler","authToken","setItem","logoutHandler","removeItem","authContext","children"],"mappings":";;;AAAA,SAASA,aAAT,EAAwBC,SAAxB,EAAmCC,QAAnC,QAAmD,OAAnD;;AAEA,MAAMC,WAAW,gBAAGH,aAAa,CAAC;AAChCI,EAAAA,KAAK,EAAE,EADyB;AAEhCC,EAAAA,eAAe,EAAE,KAFe;AAGhCC,EAAAA,QAAQ,EAAE,EAHsB;AAIhCC,EAAAA,KAAK,EAAE,MAAM,CAAE,CAJiB;AAKhCC,EAAAA,MAAM,EAAE,MAAM,CAAE;AALgB,CAAD,CAAjC;AAQA,OAAO,SAASC,mBAAT,CAA6BC,KAA7B,EAAoC;AAAA;;AACzC,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BV,QAAQ,CAAC;AACzCE,IAAAA,KAAK,EAAE,EADkC;AAEzCE,IAAAA,QAAQ,EAAE,EAF+B;AAGzCD,IAAAA,eAAe,EAAE;AAHwB,GAAD,CAA1C;AAMAJ,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMY,WAAW,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAApB;AACA,UAAMT,QAAQ,GAAGQ,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAjB;;AACA,QAAIF,WAAW,IAAIP,QAAnB,EAA6B;AAC3BM,MAAAA,YAAY,CAAC;AAAER,QAAAA,KAAK,EAAES,WAAT;AAAsBR,QAAAA,eAAe,EAAE,IAAvC;AAA6CC,QAAAA;AAA7C,OAAD,CAAZ;AACD;AACF,GANQ,EAMN,EANM,CAAT;;AAQA,WAASU,YAAT,CAAsBC,SAAtB,EAAiCX,QAAjC,EAA2C;AACzCM,IAAAA,YAAY,CAAC;AAAER,MAAAA,KAAK,EAAEa,SAAT;AAAoBZ,MAAAA,eAAe,EAAE,IAArC;AAA2CC,MAAAA,QAAQ,EAAEA;AAArD,KAAD,CAAZ;AACAQ,IAAAA,YAAY,CAACI,OAAb,CAAqB,OAArB,EAA8BD,SAA9B;AACAH,IAAAA,YAAY,CAACI,OAAb,CAAqB,UAArB,EAAiCZ,QAAjC;AACD;;AAED,WAASa,aAAT,GAAyB;AACvBP,IAAAA,YAAY,CAAC;AAAER,MAAAA,KAAK,EAAE,EAAT;AAAaC,MAAAA,eAAe,EAAE,KAA9B;AAAqCC,MAAAA,QAAQ,EAAE;AAA/C,KAAD,CAAZ;AACAQ,IAAAA,YAAY,CAACM,UAAb,CAAwB,OAAxB;AACAN,IAAAA,YAAY,CAACM,UAAb,CAAwB,UAAxB;AACD;;AAED,QAAMC,WAAW,GAAG;AAClBjB,IAAAA,KAAK,EAAEO,SAAS,CAACP,KADC;AAElBE,IAAAA,QAAQ,EAAEK,SAAS,CAACL,QAFF;AAGlBD,IAAAA,eAAe,EAAEM,SAAS,CAACN,eAHT;AAIlBE,IAAAA,KAAK,EAAES,YAJW;AAKlBR,IAAAA,MAAM,EAAEW;AALU,GAApB;AAQA,sBACE,QAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAEE,WAA7B;AAAA,cACGX,KAAK,CAACY;AADT;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;;GAxCeb,mB;;KAAAA,mB;AA0ChB,eAAeN,WAAf","sourcesContent":["import { createContext, useEffect, useState } from \"react\";\n\nconst AuthContext = createContext({\n  token: \"\",\n  isAuthenticated: false,\n  username: \"\",\n  login: () => {},\n  logout: () => {},\n});\n\nexport function AuthContextProvider(props) {\n  const [authState, setAuthState] = useState({\n    token: \"\",\n    username: \"\",\n    isAuthenticated: false,\n  });\n\n  useEffect(() => {\n    const storedToken = localStorage.getItem(\"token\");\n    const username = localStorage.getItem(\"username\");\n    if (storedToken && username) {\n      setAuthState({ token: storedToken, isAuthenticated: true, username});\n    }\n  }, []);\n\n  function loginHandler(authToken, username) {\n    setAuthState({ token: authToken, isAuthenticated: true, username: username });\n    localStorage.setItem(\"token\", authToken);\n    localStorage.setItem(\"username\", username);\n  }\n\n  function logoutHandler() {\n    setAuthState({ token: \"\", isAuthenticated: false, username: \"\" });\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"username\");\n  }\n\n  const authContext = {\n    token: authState.token,\n    username: authState.username,\n    isAuthenticated: authState.isAuthenticated,\n    login: loginHandler,\n    logout: logoutHandler,\n  };\n\n  return (\n    <AuthContext.Provider value={authContext}>\n      {props.children}\n    </AuthContext.Provider>\n  );\n}\n\nexport default AuthContext;\n"]},"metadata":{},"sourceType":"module"}